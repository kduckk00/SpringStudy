# **Day 4**

# CLASS 01 어노테이션 기반 MVC 개발

  스프링은 어노테이션 기반 설정을 제공함으로써 과도한 XML 설정으로 인한 문제를 해결한다. Spring MVC도 스프링 설정 파일에 HandlerMapping, Controller, ViewResolver 같은 여러 클래스를 등록해야 하므로 어노테이션 설정을 최대한 활용하여 XML 설정을 최소화할 필요가 있다.



## 1.1 어노테이션 관련 설정

  InsertBoardController 클래스 객체는 스프링 컨테이너가 자동으로 생성하고 Controller 객체로 인식한다. 그리고 중요한 것은 InsertBoardController 가 POJO 클래스로 변경되었으므로 메소드 이름을 insertBoard, 리턴타입을  void, 매개변수를 HttpServeltRequest로변경 할 수 있다.

~~import 정리 사진~~



## 1.4 클라이언트 요청 처리

  사용자 입력 정보 추출과 VO 객체 생성, 그리고 값 설정을 모두 컨테이너가 자동으로 처리하는 것이다. 스프링 컨테이너가 사용자 입력값을 Command 객체에 자동으로 설정하는 과정을 이해하기 위해서 서블릿 컨테이너의 동작 방식을 살펴보는 것이 도움된다.

~~서블릿 객체의 service() 메소드가 호출되는 과정 사진~~





# CLASS 02 어노테이션으로 게시판 프로그램 구현하기

~~리다이렉트로 넘기기~~



## 2.1 어노테이션 관련 설정

  InsertBoardController 클래스 객체는 스프링 컨테이너가 자동으로 생성하고 Controller 객체로 인식한다. 그리고 중요한 것은 InsertBoardController 가 POJO 클래스로 변경되었으므로 메소드 이름을 insertBoard, 리턴타입을  void, 매개변수를 HttpServeltRequest로변경 할 수 있다.

~~import 정리 사진~~



## 2.4 클라이언트 요청 처리

  사용자 입력 정보 추출과 VO 객체 생성, 그리고 값 설정을 모두 컨테이너가 자동으로 처리하는 것이다. 스프링 컨테이너가 사용자 입력값을 Command 객체에 자동으로 설정하는 과정을 이해하기 위해서 서블릿 컨테이너의 동작 방식을 살펴보는 것이 도움된다.

~~서블릿 객체의 service() 메소드가 호출되는 과정 사진~~



## 2.9 요청 방식에 따른 처리

### 2.9.1 method 속성

  클라이언트가 GET 방식으로 입력 폼을 요청하면 입력 화면을 보여주고,  입력 화면에서 submit 버튼을 클릭하여 POST 방식으로 요청하면 클라이언트의 요청을 적절히 처리하고자 할 때 이 방법을 사용한다.

  loginView()메소드는 로그인 화면으로 이동할 떄 실행되는 메소드이다. 따라서 사용자가 입력할 값이 아무것도 없는 상태인데 매개변수로 UserVO 객체를 받아들이도록 설정한 것이다. 



## 2.11 Controller의 리턴타입

  리턴타입을 String 으로 설정하면 완벽한 View 이름을 문자열로 리턴하겠다는 것이고 ModelAndView로 설정하면 검색된 Model데이터와 View 이름을 모두 저장하여 리턴하겠다는 의미이다.









# CLASS 03 프레젠테이션 레이어와 비즈니스 레이어 통합

브라우저에서 버튼이나 하이퍼링크를 클릭하여 서버에 요청을 전송하면, 모든 요청을 서블릿 컨테이너가 생성한 DispatcherServlet이 받는다. 그리고 DispatcherServlet은 스프링 컨테이너가 생성한 Controller에게 요청을 전달하고, Controller는 매개변수를 통해 전달된 DAO 객체를 이용하여 사용자가 요청한 로직을 처리한다.



## 3.1 비즈니스 컴포넌트 사용

  비즈니스 컴포넌트가 변경되거나 새로운 요소가 추가될 때마다 이를 사용하는 Controller의 소스를 매번 수정한다면 유지보수는 어려울 수 밖에 없다. 그러므로 비즈니스 컴포넌트 입장에서 자신을 사용해주는 클라이언트는 Controller이다. 클라이언트가 인터페이스를 통해 비즈니스 컴포넌트를 이용하면 컴포넌트의 구현 클래스를 수정하거나 다른 클래스로 대체해도 이를 사용하는 클라이언트는 수정하지 않아도 된다.